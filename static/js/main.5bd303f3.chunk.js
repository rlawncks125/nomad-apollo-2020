(this["webpackJsonpapollo-2020"]=this["webpackJsonpapollo-2020"]||[]).push([[0],{95:function(n,e,i){"use strict";i.r(e);var t=i(7),r=i(2),o=i.n(r),c=i(72),a=i.n(c),u=i(37),d=i(11),l=i(12),s=i(80),v=i(14),b=i(30),g=i.n(b),j=i(96);function f(){var n=Object(l.a)(["\n  background-image: url(",");\n  height: 100%;\n  width: 100%;\n  background-size: cover;\n  background-position: center center;\n  border-radius: 7px;\n"]);return f=function(){return n},n}function p(){var n=Object(l.a)(["\n  height: 400px;\n  border-radius: 7px;\n  width: 100%;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n  background-color: transparent;\n"]);return p=function(){return n},n}function h(){var n=Object(l.a)(["\n  mutation toggleLikeMovie($id: Int!, $isLiked: Boolean!) {\n    toggleLikeMovie(id: $id, isLiked: $isLiked) @client\n  }\n"]);return h=function(){return n},n}var x=g()(h()),m=v.a.div(p()),O=v.a.div(f(),(function(n){return n.bg})),k=function(n){var e=n.id,i=n.bg,r=n.isLiked,o=Object(j.useMutation)(x,{variables:{id:parseInt(e),isLiked:r}}),c=Object(s.a)(o,1)[0];return Object(t.jsxs)(m,{children:[Object(t.jsx)(u.b,{to:"/".concat(e),children:Object(t.jsx)(O,{bg:i})}),Object(t.jsx)("button",{onClick:c,children:r?"Unlike":"Like"})]})};function L(){var n=Object(l.a)(["\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  grid-gap: 25px;\n  width: 60%;\n  position: relative;\n  top: -50px;\n"]);return L=function(){return n},n}function w(){var n=Object(l.a)(["\n  font-size: 18px;\n  opacity: 0.5;\n  font-weight: 500;\n  margin-top: 10px;\n"]);return w=function(){return n},n}function y(){var n=Object(l.a)(["\n  font-size: 35px;\n"]);return y=function(){return n},n}function _(){var n=Object(l.a)(["\n  font-size: 60px;\n  font-weight: 600;\n  margin-bottom: 20px;\n"]);return _=function(){return n},n}function M(){var n=Object(l.a)(["\n  background-image: linear-gradient(-45deg, #d754ab, #fd723a);\n  height: 45vh;\n  color: white;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n"]);return M=function(){return n},n}function z(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n"]);return z=function(){return n},n}function I(){var n=Object(l.a)(["\n  {\n    movies(limit: 25) {\n      id\n      title\n      rating\n      description_intro\n      language\n      medium_cover_image\n      isLiked @client\n      genres\n    }\n  }\n"]);return I=function(){return n},n}var $=g()(I()),Q=v.a.div(z()),A=v.a.header(M()),B=v.a.h1(_()),J=v.a.h3(y()),q=v.a.div(w()),C=v.a.div(L()),D=function(){var n,e=Object(j.useQuery)($),i=e.loading,r=e.data;return Object(t.jsxs)(Q,{children:[Object(t.jsxs)(A,{children:[Object(t.jsx)(B,{children:"Apollo 2020"}),Object(t.jsx)(J,{children:"I love GraphQL"})]}),i&&Object(t.jsx)(q,{children:"Loading..."}),Object(t.jsx)(C,{children:null===r||void 0===r||null===(n=r.movies)||void 0===n?void 0:n.map((function(n){return""===n.language?"":Object(t.jsx)(k,{id:n.id,isLiked:n.isLiked,bg:n.medium_cover_image},n.id)}))})]})};function E(){var n=Object(l.a)(["\n  width: 25%;\n  height: 60%;\n  background-color: transparent;\n  background-image: url(",");\n  background-size: cover;\n  background-position: center center;\n"]);return E=function(){return n},n}function G(){var n=Object(l.a)(["\n  font-size: 28px;\n"]);return G=function(){return n},n}function P(){var n=Object(l.a)(["\n  font-size: 35px;\n  margin-bottom: 10px;\n"]);return P=function(){return n},n}function S(){var n=Object(l.a)(["\n  font-size: 65px;\n  margin-bottom: 15px;\n"]);return S=function(){return n},n}function U(){var n=Object(l.a)(["\n  margin-left: 10px;\n  width: 50%;\n"]);return U=function(){return n},n}function F(){var n=Object(l.a)(["\n  height: 100vh;\n  background-image: linear-gradient(-45deg, #d754ab, #fd723a);\n  width: 100%;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  color: white;\n"]);return F=function(){return n},n}function H(){var n=Object(l.a)(["\n  query getMoive($id: Int!) {\n    movie(id: $id) {\n      id\n      title\n      rating\n      description_intro\n      language\n      medium_cover_image\n      genres\n      isLiked @client\n    }\n  }\n"]);return H=function(){return n},n}var K=g()(H()),N=v.a.div(F()),R=v.a.div(U()),T=v.a.h1(S()),V=v.a.h4(P()),W=v.a.p(G()),X=v.a.div(E(),(function(n){return n.bg})),Y=function(){var n,e,i,r,o,c,a=Object(d.e)().id,u=Object(j.useQuery)(K,{variables:{id:parseInt(a)}}),l=u.loading,s=u.data;return Object(t.jsxs)(N,{children:[Object(t.jsxs)(R,{children:[Object(t.jsx)(T,{children:l?"Loading...":"".concat(null===s||void 0===s||null===(n=s.movie)||void 0===n?void 0:n.title," ").concat((null===s||void 0===s||null===(e=s.movie)||void 0===e?void 0:e.isLiked)?"\ud83d\udc96":"\ud83d\ude1e")}),Object(t.jsxs)(V,{children:[null===s||void 0===s||null===(i=s.movie)||void 0===i?void 0:i.language," \xb7 ",null===s||void 0===s||null===(r=s.movie)||void 0===r?void 0:r.rating]}),Object(t.jsx)(W,{children:null===s||void 0===s||null===(o=s.movie)||void 0===o?void 0:o.description_intro})]}),Object(t.jsx)(X,{bg:null===s||void 0===s||null===(c=s.movie)||void 0===c?void 0:c.medium_cover_image})]})},Z=function(){return Object(t.jsxs)(u.a,{children:[Object(t.jsx)(d.a,{exact:!0,path:"/",component:D}),Object(t.jsx)(d.a,{exact:!0,path:"/:id",component:Y})]})},nn=new(i(33).a)({uri:"http://localhost:4000/",resolvers:{Movie:{isLiked:function(){return!1}},Mutation:{toggleLikeMovie:function(n,e,i){var t=e.id,r=e.isLiked;i.cache.writeData({id:"Movie:".concat(t),data:{isLiked:!r}})}}}});a.a.render(Object(t.jsx)(o.a.StrictMode,{children:Object(t.jsx)(j.ApolloProvider,{client:nn,children:Object(t.jsx)(Z,{})})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.5bd303f3.chunk.js.map